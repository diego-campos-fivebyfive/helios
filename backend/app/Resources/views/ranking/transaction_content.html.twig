{% set transactions = pagination.items %}

{% for transaction in transactions %}
    <tr>
        <td>
            {{ transaction.description }}
        </td>
        <td>
            {{ transaction.amount }}
        </td>
        <td>
            {{ transaction.createdAt|date('d/m/Y H:i') }}
        </td>
        <td class="text-center">
            <span class="btn-group">
                <button class="btn btn-success" href="{{ path('transaction_edit', {id: transaction.id}) }}" id="edit-ranking" data-toggle="modal" data-target="#modal_transaction">
                    <i class="fa fa-pencil"></i>
                </button>
                <button class="btn btn-danger" data-toggle="modal" data-target="#modal_transaction">
                    <i class="fa fa-trash"></i>
                </button>
            </span>
        </td>
    </tr>
{% endfor %}

<tr>
    <td colspan="4">
        <div class="row text-center">
            <div id="pagination_transaction" class="btn-group bt-xs">
                {{ knp_pagination_render(pagination) }}
            </div>
        </div>
    </td>
</tr>

<script>
    $(' #pagination_transaction ul[class="pagination"] li a ').toArray().forEach(function (el) {
        rout = $(el).attr('href');
        $(el).removeAttr('href');
        $(el).attr('data-page-transaction', rout);
    });

    $(' [data-page-transaction] ').on( 'click', function () {
        var url = $(this).data('page-transaction');
        $.ajax({
            url: url,
            method: 'get',
            complete: function (xhr) {
                TransactionRanking.transactionContent.html(xhr.responseText);
            }
        });
    });

    $('#edit-ranking').on('click', function () {
    })
</script>

