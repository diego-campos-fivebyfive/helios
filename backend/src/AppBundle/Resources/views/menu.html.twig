{% extends 'knp_menu.html.twig' %}

{% macro attributes(attributes) %}
    {% for name, value in attributes %}
        {%- if value is not none and value is not same as(false) -%}
            {{- ' %s="%s"'|format(name, value is same as(true) ? name|e : value|e)|raw -}}
        {%- endif -%}
    {%- endfor -%}
{% endmacro %}

{% block linkElement %}
    {% import _self as knp_menu %}
    {{ knp_menu.attributes(item.linkAttributes) }}
    <a href="{{ item.uri }}">
        {% if item.getExtra('icon') %}
            <i class="{{ item.getExtra('icon') }}"></i>
        {% endif %}

        {% if item.parent.isRoot %}
            <span class="nav-label">{{ block('label')|trans }} </span>
            <span class="fa {{ item.hasChildren ? 'arrow' : 'fa-angle-right pull-right' }} "></span>
        {% else %}
            {{ block('label')|trans }}
        {% endif %}
    </a>
{% endblock %}
